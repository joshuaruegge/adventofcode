package advent.aoc2020;

import java.util.HashMap;
import java.util.HashSet;

import advent.utilities.general.DayRunner;
import advent.utilities.general.IDay;

public class Day14 implements IDay {

	String input = "mask = 01101001XXX000000111X1000X0000X11010\r\n"
			+ "mem[9227] = 2018\r\n"
			+ "mem[2743] = 107216\r\n"
			+ "mem[7335] = 5498199\r\n"
			+ "mem[62141] = 28643\r\n"
			+ "mem[10396] = 615\r\n"
			+ "mem[44596] = 16631831\r\n"
			+ "mem[30301] = 1036820554\r\n"
			+ "mask = 0X0010X11100000010011011111010101XX1\r\n"
			+ "mem[25912] = 1706212\r\n"
			+ "mem[18700] = 1436\r\n"
			+ "mem[31216] = 1307\r\n"
			+ "mem[61767] = 10950397\r\n"
			+ "mem[55019] = 9351804\r\n"
			+ "mem[5477] = 970907882\r\n"
			+ "mem[49380] = 1102790\r\n"
			+ "mask = 1100110XX10X10X00001X00010X10XX11111\r\n"
			+ "mem[43431] = 43329\r\n"
			+ "mem[39748] = 2295\r\n"
			+ "mem[59160] = 4068818\r\n"
			+ "mask = X10010101XXX00X010010X1X011001001X1X\r\n"
			+ "mem[783] = 969\r\n"
			+ "mem[15182] = 4439242\r\n"
			+ "mem[34082] = 129773486\r\n"
			+ "mem[3726] = 36911281\r\n"
			+ "mem[14093] = 198\r\n"
			+ "mem[7136] = 967728\r\n"
			+ "mask = 1100X1100101000011011000010XX010111X\r\n"
			+ "mem[33093] = 2500\r\n"
			+ "mem[48387] = 5485316\r\n"
			+ "mem[56382] = 38247\r\n"
			+ "mem[19403] = 4830301\r\n"
			+ "mem[53014] = 12910126\r\n"
			+ "mem[51746] = 7221070\r\n"
			+ "mask = 1100111011000000X101XX1001111100000X\r\n"
			+ "mem[45506] = 6583\r\n"
			+ "mem[37356] = 5047\r\n"
			+ "mem[60299] = 16732544\r\n"
			+ "mem[34415] = 233715\r\n"
			+ "mem[38131] = 3633859\r\n"
			+ "mem[39038] = 569179\r\n"
			+ "mask = 11X011111110XXX01011X0001X000100X0XX\r\n"
			+ "mem[61857] = 60109927\r\n"
			+ "mem[61984] = 56703060\r\n"
			+ "mem[25744] = 85084\r\n"
			+ "mem[19683] = 146541846\r\n"
			+ "mem[5034] = 3308207\r\n"
			+ "mask = X1X01100110X01001101001110011000X111\r\n"
			+ "mem[33321] = 476094\r\n"
			+ "mem[47197] = 2775\r\n"
			+ "mem[33561] = 1185\r\n"
			+ "mem[44649] = 1910953\r\n"
			+ "mem[12452] = 778855\r\n"
			+ "mem[62667] = 7299049\r\n"
			+ "mem[30629] = 942780\r\n"
			+ "mask = 11101010110000000X01101X01001111XX01\r\n"
			+ "mem[15304] = 2029422\r\n"
			+ "mem[47648] = 224645267\r\n"
			+ "mask = 110010000XX0X00000010X0000000X001000\r\n"
			+ "mem[18174] = 10605\r\n"
			+ "mem[27164] = 58633252\r\n"
			+ "mem[49380] = 896\r\n"
			+ "mem[35511] = 1865\r\n"
			+ "mask = 1101X10011111010001100100001X011XX1X\r\n"
			+ "mem[46534] = 133047049\r\n"
			+ "mem[40985] = 1546810\r\n"
			+ "mem[19567] = 322254\r\n"
			+ "mem[13516] = 5103\r\n"
			+ "mem[43307] = 220958462\r\n"
			+ "mem[3522] = 10\r\n"
			+ "mask = 00101010110X0000110X100101XX00110000\r\n"
			+ "mem[32856] = 468089608\r\n"
			+ "mem[16581] = 1520\r\n"
			+ "mem[44671] = 493645\r\n"
			+ "mem[59135] = 743\r\n"
			+ "mask = X1001100010000X00001X1X100X0100011X1\r\n"
			+ "mem[24709] = 381965\r\n"
			+ "mem[18599] = 58320\r\n"
			+ "mask = 11101110X1000X0X001111XX010110101101\r\n"
			+ "mem[29307] = 110716\r\n"
			+ "mem[11929] = 68368314\r\n"
			+ "mem[5595] = 98625\r\n"
			+ "mem[19842] = 114448\r\n"
			+ "mem[82] = 116842679\r\n"
			+ "mem[28608] = 106081605\r\n"
			+ "mem[38415] = 166431\r\n"
			+ "mask = 11X010001100X000011101101X101X1X0010\r\n"
			+ "mem[64997] = 537175943\r\n"
			+ "mem[4215] = 1700\r\n"
			+ "mem[7842] = 91467205\r\n"
			+ "mem[28677] = 92497218\r\n"
			+ "mem[42227] = 309706330\r\n"
			+ "mask = 0X00XX1011000010X00X0X0101X100001010\r\n"
			+ "mem[24113] = 18710\r\n"
			+ "mem[41368] = 61727257\r\n"
			+ "mem[24910] = 1216\r\n"
			+ "mem[48962] = 431244119\r\n"
			+ "mem[52880] = 31537\r\n"
			+ "mem[26016] = 3867529\r\n"
			+ "mask = 110X100001011000100X001XX10110110111\r\n"
			+ "mem[44808] = 8860\r\n"
			+ "mem[977] = 227853\r\n"
			+ "mem[24326] = 1292\r\n"
			+ "mem[11196] = 185995\r\n"
			+ "mem[24910] = 1456794\r\n"
			+ "mem[38209] = 11963784\r\n"
			+ "mem[2516] = 206274\r\n"
			+ "mask = 10101X010X010011011XXXX01100X0X01X00\r\n"
			+ "mem[37266] = 53802\r\n"
			+ "mem[43697] = 3027265\r\n"
			+ "mem[40421] = 182178\r\n"
			+ "mem[14745] = 5768586\r\n"
			+ "mem[33359] = 62113\r\n"
			+ "mask = 11X01X0011000X00X101101110XX11XXX101\r\n"
			+ "mem[60299] = 38321864\r\n"
			+ "mem[13933] = 4119750\r\n"
			+ "mem[63519] = 3793\r\n"
			+ "mem[33359] = 6062406\r\n"
			+ "mem[2145] = 1197981\r\n"
			+ "mask = 01101000110X0X00XX010XX1X0111100X0X0\r\n"
			+ "mem[996] = 1535\r\n"
			+ "mem[37483] = 415\r\n"
			+ "mem[36833] = 15446433\r\n"
			+ "mem[12962] = 139638950\r\n"
			+ "mask = 0X1010101111X00X10010X1X01110111011X\r\n"
			+ "mem[28705] = 73\r\n"
			+ "mem[46437] = 145646713\r\n"
			+ "mem[10079] = 1238645\r\n"
			+ "mem[23342] = 1856314\r\n"
			+ "mem[7654] = 259644\r\n"
			+ "mask = X1X010X0110X0000X001XX111X100110X000\r\n"
			+ "mem[32957] = 365133\r\n"
			+ "mem[13738] = 43314758\r\n"
			+ "mem[21472] = 985365\r\n"
			+ "mem[42598] = 32659669\r\n"
			+ "mask = 01101X001100000X01X101X111100000X1X1\r\n"
			+ "mem[39855] = 17101\r\n"
			+ "mem[6765] = 846\r\n"
			+ "mem[40866] = 495565203\r\n"
			+ "mem[56928] = 3961201\r\n"
			+ "mem[17228] = 3585\r\n"
			+ "mask = 1100101010XX001X100100X0X01111001100\r\n"
			+ "mem[64982] = 103054\r\n"
			+ "mem[35989] = 44254616\r\n"
			+ "mem[11366] = 7715\r\n"
			+ "mask = 101010010001001XX11100X0X1100110X011\r\n"
			+ "mem[43005] = 1741\r\n"
			+ "mem[46533] = 383034263\r\n"
			+ "mem[30931] = 2731638\r\n"
			+ "mem[35338] = 133759116\r\n"
			+ "mask = 0010110X011X00X011XX00101000X10X1X00\r\n"
			+ "mem[23302] = 575430886\r\n"
			+ "mem[41184] = 484667743\r\n"
			+ "mem[11064] = 6013819\r\n"
			+ "mask = X10010101X0100X01X01011X1111000XX010\r\n"
			+ "mem[59531] = 51445\r\n"
			+ "mem[604] = 65230\r\n"
			+ "mem[25153] = 57802\r\n"
			+ "mem[42909] = 16748064\r\n"
			+ "mask = XX10100XXX0X001101X101011100101X0X10\r\n"
			+ "mem[10016] = 1384\r\n"
			+ "mem[28736] = 373587\r\n"
			+ "mem[5388] = 20765\r\n"
			+ "mem[55736] = 276409152\r\n"
			+ "mask = 0X001001100000X0100X0101X0X111010001\r\n"
			+ "mem[713] = 941\r\n"
			+ "mem[34620] = 47358\r\n"
			+ "mem[64695] = 118873278\r\n"
			+ "mem[28381] = 5504290\r\n"
			+ "mem[9352] = 1335605\r\n"
			+ "mem[5606] = 127872\r\n"
			+ "mask = 00101010110X0000XXXX0X0101X00X001000\r\n"
			+ "mem[49208] = 1902856\r\n"
			+ "mem[3726] = 861821129\r\n"
			+ "mem[51431] = 217032464\r\n"
			+ "mem[8104] = 201580051\r\n"
			+ "mem[8561] = 22666152\r\n"
			+ "mem[27779] = 25685964\r\n"
			+ "mem[14798] = 35556100\r\n"
			+ "mask = 11001X1XX1X0000010X10010111XX10X0X10\r\n"
			+ "mem[40524] = 62170024\r\n"
			+ "mem[26151] = 32735\r\n"
			+ "mem[36331] = 791\r\n"
			+ "mem[51971] = 4077\r\n"
			+ "mem[39949] = 1208881\r\n"
			+ "mask = 1110X00011X00100XX0X00111X011X1X0100\r\n"
			+ "mem[49523] = 45562\r\n"
			+ "mem[65190] = 437018\r\n"
			+ "mem[48194] = 590010\r\n"
			+ "mem[34081] = 2730318\r\n"
			+ "mem[19485] = 71146\r\n"
			+ "mem[43675] = 5165\r\n"
			+ "mem[41990] = 5786294\r\n"
			+ "mask = 1100XX00110XXX0000101X000010X11X1X10\r\n"
			+ "mem[46338] = 969889\r\n"
			+ "mem[56130] = 19345\r\n"
			+ "mem[56003] = 108577353\r\n"
			+ "mem[38580] = 132743\r\n"
			+ "mem[51852] = 29007\r\n"
			+ "mem[9562] = 4082929\r\n"
			+ "mask = 01X0X0XX11000000100100111X1111X0X000\r\n"
			+ "mem[16562] = 42746421\r\n"
			+ "mem[10764] = 78319913\r\n"
			+ "mem[62076] = 1791961\r\n"
			+ "mem[34147] = 517873792\r\n"
			+ "mem[6626] = 46567\r\n"
			+ "mem[56829] = 132232586\r\n"
			+ "mem[16078] = 1231\r\n"
			+ "mask = 110XXX1101000000101110111X1001X0XX01\r\n"
			+ "mem[36554] = 734907\r\n"
			+ "mem[24177] = 794769422\r\n"
			+ "mem[49782] = 2634\r\n"
			+ "mem[27278] = 2566029\r\n"
			+ "mem[20585] = 181\r\n"
			+ "mem[54195] = 82217823\r\n"
			+ "mask = 11101X0111000100X110X011011000X0X1X1\r\n"
			+ "mem[36637] = 20724\r\n"
			+ "mem[61749] = 22922812\r\n"
			+ "mem[63812] = 29576\r\n"
			+ "mem[56928] = 127412\r\n"
			+ "mem[26016] = 15698299\r\n"
			+ "mem[63570] = 546374\r\n"
			+ "mask = 010000101100X010X000111XX01110010X0X\r\n"
			+ "mem[42138] = 20438\r\n"
			+ "mem[773] = 274846\r\n"
			+ "mem[42598] = 12492801\r\n"
			+ "mask = 1110000XXX0001X011000010100010000100\r\n"
			+ "mem[58846] = 9689\r\n"
			+ "mem[52001] = 22660\r\n"
			+ "mem[23579] = 145885\r\n"
			+ "mem[14525] = 103\r\n"
			+ "mem[48501] = 7119\r\n"
			+ "mem[25744] = 946940111\r\n"
			+ "mask = 01XX0010X10000X00000X1X0110101001XX0\r\n"
			+ "mem[58095] = 2159\r\n"
			+ "mem[39650] = 116399462\r\n"
			+ "mem[46338] = 2119\r\n"
			+ "mem[12284] = 8136087\r\n"
			+ "mem[35849] = 96530\r\n"
			+ "mask = 10X010011100000010010XXXX0111X100X01\r\n"
			+ "mem[11994] = 7198139\r\n"
			+ "mem[19485] = 13623414\r\n"
			+ "mem[16072] = 464968689\r\n"
			+ "mask = 11101000110X0X00X1110010X101X0X00010\r\n"
			+ "mem[27871] = 191670\r\n"
			+ "mem[40370] = 1062912647\r\n"
			+ "mem[12962] = 94498\r\n"
			+ "mem[39988] = 505747636\r\n"
			+ "mem[2651] = 27293224\r\n"
			+ "mask = 00101100X1X00000X1011X1X10X01100X0X0\r\n"
			+ "mem[39511] = 1228170\r\n"
			+ "mem[12431] = 22479089\r\n"
			+ "mem[16819] = 2295885\r\n"
			+ "mem[16562] = 535\r\n"
			+ "mem[61184] = 5370560\r\n"
			+ "mem[61728] = 680\r\n"
			+ "mask = X1101010X1XX00X010010111X1X001X11101\r\n"
			+ "mem[27439] = 180428\r\n"
			+ "mem[64502] = 317409\r\n"
			+ "mem[63473] = 4484\r\n"
			+ "mem[32050] = 957\r\n"
			+ "mem[17565] = 451\r\n"
			+ "mask = 001X100111X100110101010XX001X0X010X0\r\n"
			+ "mem[38912] = 11646861\r\n"
			+ "mem[10983] = 2571733\r\n"
			+ "mem[57574] = 547761278\r\n"
			+ "mem[21922] = 936\r\n"
			+ "mask = 1110X0001100010001010X111X00X1111001\r\n"
			+ "mem[41652] = 15\r\n"
			+ "mem[52965] = 9633\r\n"
			+ "mem[57427] = 44143\r\n"
			+ "mem[1360] = 52315\r\n"
			+ "mem[29741] = 30065628\r\n"
			+ "mask = X1XX100011X000X0XX01100110X10X101000\r\n"
			+ "mem[13738] = 41784\r\n"
			+ "mem[82] = 2093225\r\n"
			+ "mask = 1X0X1X0X110000000XX11010001010100011\r\n"
			+ "mem[5734] = 3809359\r\n"
			+ "mem[39002] = 64194333\r\n"
			+ "mem[45226] = 582040770\r\n"
			+ "mem[27757] = 201468\r\n"
			+ "mem[23474] = 24958\r\n"
			+ "mem[18945] = 186986435\r\n"
			+ "mask = 110011XXX1011000000X100X00111110X1XX\r\n"
			+ "mem[26951] = 34107\r\n"
			+ "mem[9065] = 235577282\r\n"
			+ "mem[61339] = 33344630\r\n"
			+ "mask = X01X1010X1010000011100X1110110101000\r\n"
			+ "mem[46016] = 799\r\n"
			+ "mem[1032] = 2537\r\n"
			+ "mem[14956] = 146596\r\n"
			+ "mask = 1110X00011000000XX1X01110010X1001111\r\n"
			+ "mem[44128] = 2854\r\n"
			+ "mem[7947] = 311\r\n"
			+ "mem[10438] = 9703\r\n"
			+ "mem[59531] = 792206617\r\n"
			+ "mem[61749] = 93851\r\n"
			+ "mem[64623] = 1641525\r\n"
			+ "mask = 110011001100XX0000011X011X0001100010\r\n"
			+ "mem[42983] = 45292954\r\n"
			+ "mem[55070] = 5534\r\n"
			+ "mem[39372] = 274025469\r\n"
			+ "mem[13952] = 35023\r\n"
			+ "mem[15926] = 2673045\r\n"
			+ "mask = 111000001100X0X0X11101100010011X0101\r\n"
			+ "mem[30629] = 8185\r\n"
			+ "mem[64623] = 21212602\r\n"
			+ "mask = 110011000X010X0010XX10001XX01010X001\r\n"
			+ "mem[43528] = 7668024\r\n"
			+ "mem[19875] = 92712996\r\n"
			+ "mem[1687] = 352650669\r\n"
			+ "mem[46581] = 697\r\n"
			+ "mask = XX0010011X0000001001XX001101000X0XX0\r\n"
			+ "mem[14313] = 127102653\r\n"
			+ "mem[27061] = 3071194\r\n"
			+ "mem[15305] = 2799\r\n"
			+ "mem[64156] = 520353\r\n"
			+ "mask = 11X01X0X1X0001001101001110001X001010\r\n"
			+ "mem[46088] = 103332\r\n"
			+ "mem[36868] = 127638504\r\n"
			+ "mem[24173] = 64518503\r\n"
			+ "mem[51207] = 27119\r\n"
			+ "mem[32439] = 31653573\r\n"
			+ "mask = X1X010X0110X000X0101110110X1111X0X0X\r\n"
			+ "mem[30216] = 6171472\r\n"
			+ "mem[54536] = 3149\r\n"
			+ "mem[61749] = 45155816\r\n"
			+ "mem[63428] = 2285065\r\n"
			+ "mem[21170] = 526423366\r\n"
			+ "mem[56037] = 21621\r\n"
			+ "mem[21744] = 6711\r\n"
			+ "mask = 1100111X0101X00011010001100001X0101X\r\n"
			+ "mem[50634] = 7830\r\n"
			+ "mem[34473] = 93434803\r\n"
			+ "mem[50697] = 3975\r\n"
			+ "mem[28736] = 245436882\r\n"
			+ "mem[36181] = 68026875\r\n"
			+ "mem[44740] = 26732\r\n"
			+ "mask = 1100XX11X110X0X010111011101XX1000010\r\n"
			+ "mem[8264] = 2618\r\n"
			+ "mem[22897] = 492\r\n"
			+ "mem[25514] = 310547768\r\n"
			+ "mem[14091] = 1296713\r\n"
			+ "mask = 11X01000110000000X11XX11100000X0011X\r\n"
			+ "mem[34147] = 55819618\r\n"
			+ "mem[713] = 57753013\r\n"
			+ "mem[43005] = 734\r\n"
			+ "mem[19147] = 1261\r\n"
			+ "mem[30629] = 100095173\r\n"
			+ "mask = 11X1111X110X0000010111011011000000X0\r\n"
			+ "mem[45108] = 255101\r\n"
			+ "mem[14313] = 4574087\r\n"
			+ "mem[17120] = 24850\r\n"
			+ "mask = 011000011100X000X00100X110110100X110\r\n"
			+ "mem[4230] = 303831830\r\n"
			+ "mem[56928] = 5163880\r\n"
			+ "mem[14726] = 946803\r\n"
			+ "mem[65140] = 4998\r\n"
			+ "mask = 01XX10010X0000010111X111010001101100\r\n"
			+ "mem[48387] = 244989536\r\n"
			+ "mem[55491] = 31887\r\n"
			+ "mem[10659] = 329486493\r\n"
			+ "mask = 0111XX0X1100000001111X0101010000X010\r\n"
			+ "mem[35490] = 7441\r\n"
			+ "mem[38204] = 2781817\r\n"
			+ "mem[15504] = 4192042\r\n"
			+ "mem[48165] = 22254\r\n"
			+ "mem[41344] = 1275190\r\n"
			+ "mem[31355] = 727899223\r\n"
			+ "mem[6770] = 46922\r\n"
			+ "mask = XXXX1XX0110000000X0100X110X110100000\r\n"
			+ "mem[55906] = 45453\r\n"
			+ "mem[9448] = 136999865\r\n"
			+ "mem[43310] = 26035896\r\n"
			+ "mem[64498] = 31435\r\n"
			+ "mask = 11101000110X0X0X1X10011100110X001100\r\n"
			+ "mem[38423] = 17106\r\n"
			+ "mem[19919] = 317562128\r\n"
			+ "mem[5388] = 1437766\r\n"
			+ "mask = 11X0100X110001000X1010X00100111X000X\r\n"
			+ "mem[59546] = 1648175\r\n"
			+ "mem[57429] = 1451227\r\n"
			+ "mem[10659] = 3865\r\n"
			+ "mem[35838] = 304651619\r\n"
			+ "mem[38506] = 663621\r\n"
			+ "mem[60490] = 7815\r\n"
			+ "mem[16648] = 139051458\r\n"
			+ "mask = 111110X0111X0X10110100101X11XX00000X\r\n"
			+ "mem[5237] = 38290\r\n"
			+ "mem[30301] = 2620\r\n"
			+ "mem[65271] = 1412405\r\n"
			+ "mem[17030] = 1268\r\n"
			+ "mem[1848] = 647\r\n"
			+ "mem[45226] = 4055568\r\n"
			+ "mem[16123] = 15303130\r\n"
			+ "mask = 01X010X0X100000X01011X0101011X1XXX01\r\n"
			+ "mem[40721] = 35664047\r\n"
			+ "mem[2541] = 18078490\r\n"
			+ "mem[19062] = 8737\r\n"
			+ "mem[56642] = 109\r\n"
			+ "mem[1732] = 99084\r\n"
			+ "mem[43287] = 186566478\r\n"
			+ "mask = 1X001110X1110X0X1001110001101XXXXX00\r\n"
			+ "mem[22104] = 559\r\n"
			+ "mem[17735] = 54865\r\n"
			+ "mem[38352] = 437\r\n"
			+ "mem[32396] = 3144542\r\n"
			+ "mem[13760] = 139350\r\n"
			+ "mask = 00111001X101X011010X0011X0110010X011\r\n"
			+ "mem[27439] = 25862312\r\n"
			+ "mem[3504] = 1937287\r\n"
			+ "mem[59498] = 234476272\r\n"
			+ "mem[29550] = 1498180\r\n"
			+ "mem[19709] = 2171\r\n"
			+ "mem[19165] = 20631\r\n"
			+ "mem[63523] = 64887100\r\n"
			+ "mask = 00X0X0011000000X100101001X0100010000\r\n"
			+ "mem[13738] = 761575\r\n"
			+ "mem[4342] = 24952\r\n"
			+ "mem[35511] = 50203418\r\n"
			+ "mem[27955] = 46141252\r\n"
			+ "mem[14216] = 49071218\r\n"
			+ "mask = 011X1001X100000X0X11001XX10X100X001X\r\n"
			+ "mem[29346] = 20677\r\n"
			+ "mem[35091] = 215097141\r\n"
			+ "mem[40087] = 1901294\r\n"
			+ "mem[19485] = 251731879\r\n"
			+ "mem[24684] = 1467\r\n"
			+ "mem[25815] = 1857109\r\n"
			+ "mem[62590] = 216698971\r\n"
			+ "mask = 0010101011X0000010110X11100XXXX01110\r\n"
			+ "mem[28741] = 1680\r\n"
			+ "mem[23948] = 171\r\n"
			+ "mem[39293] = 14161274\r\n"
			+ "mem[52880] = 7933820\r\n"
			+ "mask = X01010010001001101XX101100001000XX00\r\n"
			+ "mem[48409] = 599454\r\n"
			+ "mem[4215] = 26481029\r\n"
			+ "mem[15546] = 10024168\r\n"
			+ "mask = 11X01XX0110000000XX11X111111110X1X00\r\n"
			+ "mem[42920] = 882414611\r\n"
			+ "mem[57574] = 1289149\r\n"
			+ "mem[30629] = 809394101\r\n"
			+ "mem[1476] = 2215\r\n"
			+ "mem[48366] = 120690110\r\n"
			+ "mask = 111010XX110001001X101X11X1100X011000\r\n"
			+ "mem[28951] = 19045798\r\n"
			+ "mem[37356] = 14088692\r\n"
			+ "mem[65242] = 32015\r\n"
			+ "mem[19875] = 1891\r\n"
			+ "mem[59787] = 3238036\r\n"
			+ "mask = 111010001101X1X0X01001010011010011X0\r\n"
			+ "mem[50947] = 11958907\r\n"
			+ "mem[50805] = 4184615\r\n"
			+ "mem[9216] = 7284\r\n"
			+ "mem[9366] = 616014\r\n"
			+ "mem[39243] = 50245671\r\n"
			+ "mem[26151] = 225\r\n"
			+ "mem[37356] = 7454\r\n"
			+ "mask = X11010XX110000XX01110X0X110X10100X00\r\n"
			+ "mem[10146] = 901\r\n"
			+ "mem[16819] = 1669\r\n"
			+ "mem[49594] = 30118559\r\n"
			+ "mask = 110X101X1X1X0000100100001011X1000001\r\n"
			+ "mem[44462] = 437397422\r\n"
			+ "mem[46581] = 122690574\r\n"
			+ "mem[47406] = 2223301\r\n"
			+ "mem[23302] = 27350\r\n"
			+ "mem[9227] = 64749050\r\n"
			+ "mem[32439] = 830166089\r\n"
			+ "mem[16958] = 1767\r\n"
			+ "mask = X110111X110000000101100111111000X10X\r\n"
			+ "mem[30526] = 518919\r\n"
			+ "mem[45088] = 3881541\r\n"
			+ "mem[28736] = 101657283\r\n"
			+ "mem[46276] = 67581\r\n"
			+ "mem[54442] = 874618503\r\n"
			+ "mask = X10XX11011011X1000X11X00X0X100000000\r\n"
			+ "mem[14438] = 68398\r\n"
			+ "mem[43123] = 682\r\n"
			+ "mem[53975] = 12217\r\n"
			+ "mem[14906] = 14892\r\n"
			+ "mask = 011010111X0000X10111000X0100X0X10111\r\n"
			+ "mem[18099] = 129190855\r\n"
			+ "mem[24225] = 60254642\r\n"
			+ "mem[6147] = 1967266\r\n"
			+ "mem[23568] = 12452\r\n"
			+ "mem[40866] = 233049911\r\n"
			+ "mask = 01101000110X0X000101X00110011X1X0X00\r\n"
			+ "mem[141] = 6636298\r\n"
			+ "mem[61767] = 8072\r\n"
			+ "mem[51955] = 1084869\r\n"
			+ "mem[28703] = 86518\r\n"
			+ "mem[49943] = 1162266\r\n"
			+ "mem[6728] = 951818288\r\n"
			+ "mask = 010010101100001010X100X01111X1000X10\r\n"
			+ "mem[26893] = 2377486\r\n"
			+ "mem[26841] = 521\r\n"
			+ "mem[5584] = 1929\r\n"
			+ "mask = 1100X11X01XX00001X011X0X110XX0001100\r\n"
			+ "mem[24300] = 30584\r\n"
			+ "mem[62220] = 926355\r\n"
			+ "mem[21879] = 1802\r\n"
			+ "mem[21963] = 346\r\n"
			+ "mem[42819] = 217744624\r\n"
			+ "mem[38442] = 75344432\r\n"
			+ "mask = 11X010010X0000110111X10000X110001X10\r\n"
			+ "mem[49782] = 331229\r\n"
			+ "mem[37055] = 264861759\r\n"
			+ "mem[7464] = 122702\r\n"
			+ "mem[53975] = 10052271\r\n"
			+ "mask = 00101100111X00XX01X11101100011X10XX0\r\n"
			+ "mem[35490] = 369795318\r\n"
			+ "mem[12330] = 242078616\r\n"
			+ "mask = XX00X01011X00X00010101X110X011110101\r\n"
			+ "mem[55598] = 3761622\r\n"
			+ "mem[10193] = 70536\r\n"
			+ "mem[4694] = 39620509\r\n"
			+ "mem[40721] = 424771\r\n"
			+ "mem[33140] = 154232\r\n"
			+ "mem[26948] = 37978095\r\n"
			+ "mask = X10X11X011X1101000X1000X10X0X001000X\r\n"
			+ "mem[10734] = 35783\r\n"
			+ "mem[60994] = 64736\r\n"
			+ "mem[47530] = 211\r\n"
			+ "mask = 110011111101X00X000X0X10X01001100001\r\n"
			+ "mem[45758] = 714\r\n"
			+ "mem[33710] = 3308098\r\n"
			+ "mem[34082] = 1470\r\n"
			+ "mem[13513] = 339084\r\n"
			+ "mem[36005] = 948\r\n"
			+ "mem[22208] = 54801\r\n"
			+ "mask = 11001X00X10XX000X00100X01X1X1010X010\r\n"
			+ "mem[64623] = 226472\r\n"
			+ "mem[61920] = 69906\r\n"
			+ "mem[21637] = 18145978\r\n"
			+ "mem[35989] = 52932732\r\n"
			+ "mask = XX001011X100000X1001XX10X100X1011010\r\n"
			+ "mem[16277] = 1953\r\n"
			+ "mem[1820] = 71\r\n"
			+ "mem[52001] = 2117192\r\n"
			+ "mem[41507] = 2489824\r\n"
			+ "mem[63428] = 4874\r\n"
			+ "mask = 01000X11110X0000100110X010X1X0000X0X\r\n"
			+ "mem[50966] = 649836905\r\n"
			+ "mem[13251] = 84391\r\n"
			+ "mem[2827] = 2335210\r\n"
			+ "mask = 01X01000X100X0000111X00X1101XX110010\r\n"
			+ "mem[37050] = 22573528\r\n"
			+ "mem[60994] = 508\r\n"
			+ "mem[1560] = 286179\r\n"
			+ "mask = 1110110111000100X1101X10000X0010X111\r\n"
			+ "mem[15675] = 36967016\r\n"
			+ "mem[46000] = 233496883\r\n"
			+ "mem[34415] = 2067736\r\n"
			+ "mem[9212] = 59203547\r\n"
			+ "mem[4474] = 1218632\r\n"
			+ "mem[18794] = 248839504\r\n"
			+ "mem[48996] = 1469\r\n"
			+ "mask = XX0X111011000010X000000X011100111011\r\n"
			+ "mem[2827] = 265677\r\n"
			+ "mem[38352] = 14739817\r\n"
			+ "mem[8104] = 552372\r\n"
			+ "mem[44416] = 430420\r\n"
			+ "mem[10177] = 292\r\n"
			+ "mem[27665] = 233108\r\n"
			+ "mask = X0X010X01101X0000101010X110010100000\r\n"
			+ "mem[26604] = 97034170\r\n"
			+ "mem[24910] = 2438352\r\n"
			+ "mem[21800] = 6131\r\n"
			+ "mem[38442] = 33942864\r\n"
			+ "mask = 11X010X01101X100X0101101101001X01X1X\r\n"
			+ "mem[19403] = 2412\r\n"
			+ "mem[62888] = 53930\r\n"
			+ "mem[55471] = 3757\r\n"
			+ "mem[62415] = 124924\r\n"
			+ "mem[837] = 78\r\n"
			+ "mask = 11101000110XX00110100X11111101001X11\r\n"
			+ "mem[28580] = 14210267\r\n"
			+ "mem[61701] = 21584384\r\n"
			+ "mem[28544] = 23917\r\n"
			+ "mask = 110011X01100000000011110X11X011X0010\r\n"
			+ "mem[24266] = 4131276\r\n"
			+ "mem[38423] = 9580\r\n"
			+ "mem[64502] = 2974919";
	
	@Override
	public String part1() {
		HashMap<Integer,String> mem = new HashMap<Integer,String>();
		String mask = "";
		for(String s : input.split("\r\n")) {
			String[] parts = s.split(" = ");
			if(parts[0].equals("mask")) {
				mask = parts[1];
				continue;
			}
			String bits = Long.toBinaryString(Long.parseLong(parts[1]));
			//append leading zeroes
			while(bits.length() < 36)
				bits = "0" + bits;
			
			//create new string from mask
			String result = "";
			for(int i = 0; i < 36; i++) {
				if(mask.charAt(i) == 'X') {
					result += bits.charAt(i);
				} else {
					result += mask.charAt(i);
				}
			}
			int memAddress = Integer.parseInt(parts[0].substring(parts[0].indexOf('[') + 1, parts[0].indexOf(']')));
			mem.put(memAddress, result);
		}
		
		long sum = 0;
		for(String s : mem.values())
			sum += Long.parseLong(s,2);
		return Long.toString(sum);
	}
	
	@Override
	public String part2() {
		HashMap<String, Long> mem = new HashMap<String,Long>();
		String mask = "";
		for(String s : input.split("\r\n")) {
			String[] parts = s.split(" = ");
			if(parts[0].equals("mask")) {
				mask = parts[1];
				continue;
			}
			
			long memValue = Long.parseLong(parts[1]);
			
			String initialAddress = Integer.toBinaryString(Integer.parseInt(parts[0].substring(4, parts[0].indexOf(']'))));
			//leading zeroes
			while(initialAddress.length() < 36)
				initialAddress = '0' + initialAddress;
			
			//apply mask
			String maskedAddress = "";
			for(int i = 0; i < 36; i++) {
				switch(mask.charAt(i)) {
				case 'X':
					maskedAddress += 'X';
					break;
				case '1':
					maskedAddress += '1';
					break;
				case '0':
					maskedAddress += initialAddress.charAt(i);
					break;
				}
			}
			
			for(String a : allAddresses(maskedAddress))
				mem.put(a, memValue);
			
		}
		return Long.toString(mem.values().stream().mapToLong(x -> x).sum());
	}
	
	public HashSet<String> allAddresses(String s) {
		HashSet<String> addresses = new HashSet<String>();
		if(!s.contains("X")) {
			addresses.add(s);
			return addresses;
		}
		int firstX = s.indexOf("X");
		//recursive of each potential value for first X
		addresses.addAll(allAddresses(s.substring(0,firstX) + "0" + s.substring(firstX + 1)));
		addresses.addAll(allAddresses(s.substring(0,firstX) + "1" + s.substring(firstX + 1)));
		return addresses;
	}

	public static void main(String[] args) {
		DayRunner.run(new Day14());
	}

}
