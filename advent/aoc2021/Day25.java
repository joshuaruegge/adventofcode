package advent.aoc2021;

import java.util.HashMap;

import advent.utilities.general.Coord;
import advent.utilities.general.DayRunner;
import advent.utilities.general.IDay;

public class Day25 implements IDay {

	String input = "v>...>>>.>v.v..v.>.>.>>>..v..v.>.v.vv>.....>>>>v...>>.>..v>.>vv.>.v.>vv..v.v.v.>.v.....v..v>v>.v....vvvv>v.v.v>v.v>vv..>.v...>>>vv.v.v.>>..\r\n"
			+ "v>.>.v....>...v..v.>.>..>.v.>..>vv.....>..>..vv..vvvvvv.>v>.>.>.>vv....>.v.vv...>..v.....v......v>.v..>v.v>..>.>.v.vvvv>..vv.>v>v.v.vv.v.vv\r\n"
			+ "...vv...vv.>.v..v..>.>....v.>..>...v>...v>...vv>......>>vvv>.>v>.>>vvvv>...v..>>.v..v.>vv..........>v>v>...>.>v.>v>.v..>....v..>>>>...vv..>\r\n"
			+ ">>...>.>....vv.v..>>..v...>>...>.v.>vvv...>v..>>v.vv>..>...v..v.v>vv..>vv..>.v..v..>v.v..>........>.v>v..vvv.v...vvv.>..vvv.>>.v..v.....vv.\r\n"
			+ ">v.>.vv>>...>>v...>..>.>.v.v>.v..v.>>.v.>.v..>.v.v.vv>.v.vv>>vv..>..>..>v.v.....>.v..v>>.v.>vv...>.>.>>>.vv>>>>...v.>..vv.v...v......v...v>\r\n"
			+ ".v...v>.>v.v..v.v...v>v.v>vvv>..>..vv.vv>v.v.....vvv....vv>....>.....v>v.>.v>..v...>>v>v....>>v.>.>v..v>.v.v.vv>v.>v.>v..vv..>v.....>..>..v\r\n"
			+ ".vv.>.>>....>v>v.......>..>.>>......v.v..>>...v.>v>..v>.>..>.>>vv>>...>>..v.v.v....v.>..v..>....>.........vvv...>.>.>..v>>v>..v>.v..v>.v>>.\r\n"
			+ ".v>...vv>v.>v...>vv.v.>.>v.v..>.v.>>>..v...>>>.>.v...........>v..>v>v.>vv....vvv.v.v>..>v>.>>..vv.>..v>>v.v......>.>>vv>.v>v.v.>>..>v>>>v.v\r\n"
			+ ".v......v>>>v>v..v.>>v>.v..v>.>>>.v.>>>....v.....v..v..>.>>>v.>v......v....>v.>...v>.v.>.>v..>>.v.>v>v>...>vvvv...>v>..>vv.>....>.v.v.v....\r\n"
			+ "v....>.>v>.>..>...>v..v.>v..vv.>.>v>vv..>vv>>>>>v.v>..>v..>.>...v>v..>>>>.>.v.v..>.>..v.v>...>..>.>>v..>v..>vv>.v>>...>>>.>vv>v...>...>>>>.\r\n"
			+ ">.>v.v.vv>v..vv.v..v>v..v>......>v.>>>.>>>v..v.v.v>..v.vv....v..>v.v>v>.>.>v.v>>.>.v....v.....>v.>v.vv.>......v...v...>...>vvv.......>>.v..\r\n"
			+ ".v..v.v.>>v...v>>...>vv.>.vvv>.v>vv.>vv>.>v.v>>>>>....>v.v>vvv>v.v>.>..>...>..>.vv..v>>.>...v>v..v...v.v>v.>>.>.v>....v.v.v..>>>.vvv>.vv>>>\r\n"
			+ ".vvv>...vv.v>.>>v.>v>>>v>vv........>v..v.>..>...v..v..v..v>...v.>......>>v>>.>v..>>vv>....>.>vvv.vvv...v.>..v.>>.>>.>...>.vv.....v..>v>.v>>\r\n"
			+ ">>>.v.v.v.v>.v>.>.>v.>.>.....>.v>.>..>.>..v.>>v..>...v...>>.....>v.>..vvv..>v..>...vv>..v>.v.v>>v.vv>.>v..>..>>.v>.v..>..v.>v>v.>v..>>>vv.v\r\n"
			+ ".v.....>..>v>>vv...>.v.....vvv>.v>..vv.....>..>.............>..>.v>v>vv.>.>.>.v.>...>>.>>.>.>v..>>v.>...>v...v>.v..vv..>>v>.>..v>.vvv...v.v\r\n"
			+ "v.>v..>v>.>v>v...vv.vvvvv.>.vvv...v..>>v.......>vv.v.vv.v.v.vv>..>>>v>>.v>.>>>.>vv.v>>v.vv..>>.v>.v>.v...v...v..>..v...v>v>.v...v.>>vv.v.>>\r\n"
			+ "v>.v.v.>.>...>v.v..v..vv..vv>.v>.vv..>......>>vv>>..>..>v>.>>v.....vv>.>.>v>..>v.>.>>.....>.v>..v....v....>v.v>....v.>.v.v.vvv>.....>v.>.v.\r\n"
			+ "....>>>v.>>.v.>..v...>.v.>..>.>v.>....>v..v.>....v...>...v....>.v>>v.>>v>vv..v>v....>v...>>v.v>>....>..>.vv.v.vv>v>>>>>.v.>v>v.v..>..>v....\r\n"
			+ "...>>v>v.>>...>..vvvvv>.v.vv.>.v.>>v>..v.vv>v.>vv.....>.vvv>>>v.v..vvvvvvv.>>vvv>v...>..>.v>>v>...vv>..>..>......v..>.v..>v>>.>>>>..v.>>v.v\r\n"
			+ "..vvvv..v.>>.>.>>>.v.v..v.>v.>.v>v.v>..>.v.v.v.>..v>>.>...vvv.v..>...v....v.v>vv>...v.vv>..>vv.v>v>v...>.vv....>.v>...>v...>>>>..>>....vvvv\r\n"
			+ "v..v.>>>>v..>vvvv>.>v.>v...>>..>v>v...v.>......>>>.......vv.vv>..>...v..>vvv.>.>.v>v.v>.v>......>...v.>..>.v.>.>v>..>....vv.>....vvv...v...\r\n"
			+ ".v.v>....>.>..>...v>..v>>..>>.v.v>v.>.>..>.>.v....>v......vvv>..>>.....>.v..v>.v>v..>.v..v..vvv.v>..>.>.v...>..vv.>v.>v>..v>..>...>.>>.vv.>\r\n"
			+ "v.vv>v.vv...>..>..>..>..>vv>v.>..>.>..>v..>>v>.vvvv>v.>v>vv.>v...vv.v.v.v...vv>.>.....vvvv..>v..v..vv.>v>v.v.>..>.v..>.....vv>>.....vv>...v\r\n"
			+ "..v..v.>>.>v..v>..>...v...>v>>.vv>.>>.v..v>...>..>>..vv.>.v.>>..v>vv>..vv>vv>.v>...vv...v.>>.v..v>.v>>.v.....v..vv>>v>>v>...>v...>.....>.>>\r\n"
			+ "..v....>vv>v.vv..........vv..>>.vv......v..vvv..v>>>v.v.>>.v>>..v..>..vv>v..>>>..>......>v>vv>.>>v....v.v>>.v.>....>>..>v>>.>...>..>vv..>v>\r\n"
			+ ">...>.>>>.>.v..>v>>..v.....>>......v>>..v....>.>v>.>v.>>>vv....>v.v...v..>.>.v.v..>vv>.v>>..v.>vv>.>>...v..>vv.v>.>>.....>.v.v..v...v..>v>>\r\n"
			+ "v....v>.>>>vv>..v>>v....>>>..vvv.>.>..vv...v..>>v.>...>>....>>>.>.>.v.v.......>.v..vv>vv...>v.>v>v.v>v.>>v>v>v>.....>.v>..>...>v>v>...>.v.v\r\n"
			+ "v...>.>.....>.v>vv>>.v..vv..v.v.v.vvvvv.v...v>>.v>...v.v....vv....v>v.>v.>v..>..v.v>>..v>vv>vv.v.>>>.>...v.v..>.v>v>v..v>....v>>..vv>.>>.>v\r\n"
			+ ".v>>..v.vvv......vv...v>.>>v....v....v...>>.>v.>...v.v>>..>>.>v..>.v.........vv.>>>>vv.>..vvv...v....>.>v..v.....v.v..v>.v.............vv>v\r\n"
			+ "v..v.vv..>>....v.>...vvvvvv.v>.....>..v.>>>.v.v>..v.>vv..>.....>v.>v.v.v>......v..>>.>v...vvv>.v>v..>>>>v.>...>...v>.>v.>.>>.....vvv....vv.\r\n"
			+ "....>>..>...>v.>>...v..v.>..>vvv>>v.v>>.vv>...v>....>vv>.vv.>v>>>v..>>>..>.>v..>>v.>vv.>......v>>v.vvv.v.v>.v.v...vv>>vv..>....v>....vv..vv\r\n"
			+ ".>vv>.....vv>.v...>>..>>vv.>>v>...>v..>>.v>v....>....v......>v..v>...v.vv.vv..>v.>.v.>>...>.v..v.v.vv..>.>>vv.>>...>.>..>.v>..v>>v.vv.v.vvv\r\n"
			+ "v.vv.v>>vv>vvv..v.......>>....>v..v>..v.v>v>.>v.v..>v>.v>v.v...>...vv...>.>.>>......v...>...v>..>.v>..vvv>.vvv>vv>>>>...v.vv.>.v.v..v.v>.>v\r\n"
			+ "..>>>..>>v.v...>..>..vvv.v.>>.>.>.v.v..vv>>..>>.v.v.......vvv.>.v..>v>........>.v.>v...>..v>v...>.......>>..>v>.....>vv.v>v.v..>>...v....>.\r\n"
			+ "v.>>>>..>..>>>.vv..>.>..vv..vv..v...>v>...v.>v.>.vv>..v>.....>.>v>.vvv.>.>>v.>..v..v.v...vv.>...>..>>>.>..>.v.>.>..v.v..v>>.v...>v>>.>.v..v\r\n"
			+ ">v.v>v>.v>>v>....v.v>v.>.v..>>....v>v.>>>.vv>.vv....>..v>.vv.>.vvv.v..>....v.......vvv.v>v>v..v..v....v>v>v>.v..v.>..>....>>>..>..v.v.>...v\r\n"
			+ ">>...v>vv>>...vv>>..>.vvvvv>.>.vv.>v>.>.>>>v..>>v..>vv.>>>>..>v...v.v>.......>vv>>...v>.v..>>.>.>v>..>>.....>.>..>vv..>.>..>vvv>.vv.vv>v.>.\r\n"
			+ "...>.>v.>>vvv>vv>>...v.>v...vv>.>.>v.>....>...v.>v.vv.>vv>.>.>.>...>...>>>.v......>.....v.vv.....v.>>..>..v...vvv.>...v..vv>v>..v.>..v..>.v\r\n"
			+ "v>v>>..v>v...>.>vv.>...>>v.>vvv..vv>.>v.....v>v.>v..>v...>..>.>.>v.>.....>..>vv>v..>...v.vv>.v>>v.>v....v>.....v......>..>.........>>...>v.\r\n"
			+ "v.>.>>>.>v>.......v..>v>v....>..v....v.>.....vv.>.>.>>>v..>v..>.v.vv>...v>vv.>v.>...>>..>>>>v..>v.....>.>>>v..>.>>v.>>>......v.>.>vv..vv.>.\r\n"
			+ ".v..v>vv..>..>.vv..v>.>..>>...>>v>..v.....v....v..v.>.v....vv>.v>...v>.vv.>..v>..>vvv.v>.>.v>..>.>...>..v>.vv.>.>.v>v>v..>.vv.>.>v..v>.>>>.\r\n"
			+ "v....>>.>.vv..>v>.v.>..v>.>vv..>.>>.vv.>.v...>v.>.>v....v...vv>..>.>.vv>vv..>...v.>.....>.>..v...>>..vv......>v>vv>v>v..>v>>.>v..v...v..>..\r\n"
			+ ">...>.>v>...>v.>vv.v>.>v.....v.>.>...v>v.v....>.v>..>..v.v>.....vv.vv.>...>vv.>..>.v>.v.....>>.>v.vv>>..v>..>...>v>vv.>v>.>..v>v...>>v.v..v\r\n"
			+ "v>>v>>.vv..vv>vvv.>vv.>.v..vvvv.v>v>..v..vvv>.....>..>.>v..>....>.v>v..>>>..vv.v>v..>v.>>>>.>.vv.v..vvv>>.vv...>.>.>....>>v..>.v>..vvvv>..v\r\n"
			+ "v..>>>.vv....v.v........v>>>..>>..v>..v...>..v>v>.>v......v..vv.v...v.v..>vv>>vv>v>.>>v>.>>>>.v>.....vv..v..>v..>..>vv>>.vv....>>.vv>v>....\r\n"
			+ ".>...vvv......vvv....v...>....v.v.>>.v...>>v>...v>v>v>v.>>v>v>vv.>v.>>>...>.>v>v.v..v.vvv..>vvv..v.>>..vv.......>vvv.vv.vv....v.vvv.>v>..>v\r\n"
			+ "..>.vv>...>>.v.v.v.>.>>..v..v.>..>v.v.v..v>>.>.vv>...vv>>vv.....>vv.>>>vv>>>>>.>.v>........vv.v>>..v.v>..v....>>....>....>>....>v..v>v>>vv.\r\n"
			+ ".....v.v..v....>v...v.v>>.>...>.>>v.>..>>.>>...>>>v.v...v>>>..>v.v...vv.vv..>.>.>>>.v>..>>v>v>........>.vv.>.>v..>>>..>>.>v..>...vv.>..>v..\r\n"
			+ ".v...v>..>.>v.v.v>>.v..>v>>v>>vv.>vv.v.v>v.v...>>.>.>.>>.>v.>..>>>v..v>>.......v>...vv.....>.>v.>v>v...v.>...>>>.v....>.>v....>.>..>..>>.v.\r\n"
			+ ">>v>vv.>.v>.>v.vv>....v>>...v.vv..v....vv>.v....v>.>...v>.vv.v.>.v.>>>.vv.v>>..v.>.....>.>.v>vvv>>vv.v...v...v.>.v..>.v..>.>...v.>......>vv\r\n"
			+ ".v..v..>.vv>..>vv..v>>...v>v.>.>..v>vv.v>vv.vvv.v>...v>v>...v...>v>......>.>v>>v..v.v.>v..vv......v.>.>....v.>.v..v>..>..>.vv..v..>>...>.vv\r\n"
			+ "v>.v...>.v..>.>>.v..>v>.v.>v.v.>>>.v>.v>v.vv.v.>.>.>.v..v.v....v..>.v.v..v..>>.>v.>...v....>.vv..vv.v.>.>..vv>..v.v..v.>.>.v>.v.vvvvv..v.v>\r\n"
			+ "...>.vvvv..v.>v...>v.>v.>...>>>.v>.>.>v>...>>>>>>.v.>>.......v>>v..v.vv.vvv.>.vvvv.vv>.>v>..v.>...vv.vvvv>>>v.>..>v.>...v>vvv.v.....v.vvvv.\r\n"
			+ ">..>..v......>.>>...>v.>v....>.v>..>...>.>...>.>.vv.>>.v.>>.>>>>.vv.vv....>..vvvv...v>.>.>>.>>.>>.v..v>.>..>.vv...>....v>v..>.....v>..v>..>\r\n"
			+ ">..>....v.....v..v.....v...v.>..v....v......>v>..v>.....>>>>..vv.v...>>>....v.>>v....v.v.>>...>>.>>...v..>>>.v..>>.>..>.v.>.vv..v..>.v>...>\r\n"
			+ ".v>>.>>..>vvv.v..>v>..>.v.v..>v......v>>.>>v>>>...>..>>v.vvvv.>.....v..vv.v...>vv>>>v.v..v>..>.v>.>...>>....v>.>..>>>>>.v>>>vv..>>....v.v.>\r\n"
			+ "..v.vv...>.vvv..v.>...>v.......>..v>>>>>.v.>......>v.v>..v.>.>.>>>v......>.v>..v.v>.>.v..v>>..>>>v>>.v..>..v.>...v.....>.vv>...v...>...v...\r\n"
			+ ".v>>v>vv>...>..>.v>.v....v>.vv.v...>.>..>v.....>...>>.>...>>v>vvv.v>>..>..v>>v>..>..vv..>..>v...v...v>..>>..v.v.>vvv....v.v>vvv..>>vv...v.v\r\n"
			+ ".>v>..v.>>.vv....v>..>>>>>>.>.>>..v>.v>..>.....v>>v..v..>..v.v>>vvv..>..>.>.>.vvv.>..vvv...vv>>>..>>..v>>>>>vvv.v.>>...>....vv..vv.v>..vvv>\r\n"
			+ "..v..>.v>>...>.>>>.>v>>v.v.>..>>..>>>v.....>.>>>v>.v.>.v....>v.>>v...>v.v.>..>.>.v>vvvv...vvvvv...v..>>.v..v>......>.>>>...v.>.v...>.....vv\r\n"
			+ "vvvv.v...>v....>>>>.....vv>>>>..vvv.v..v.vv....>v.v..vvv.v..>v>>..v...v.v.>v.vv.v.>>vv>..>..v..>>...v>..v>>>.vv.v.vv..v..vv......v>v.>vv...\r\n"
			+ ".v>>>..vv..>..>..v..>>>vv.>.>.v.>>v..........vv.>..>.>>.v.....>v>v.v.....>.v.v..vvvv>>...>>..v.v>v.v.v...v.....>>>..v.vv...>>...v>v.>>>>.v.\r\n"
			+ "..vvv.>...vv..>vvv.v>>.vv>vv.v..vv....>...>v>>.>.>...v>..>.vv...>>...>v.>...v.>v......vv...v>>>.>.>...>v....vvv>..>>>>v>v>vv>vv..>.v>.v>>..\r\n"
			+ "v>.>v......v...>v.>>v.v>>...>v>>..>.>...>..v.>.v..v.>.>v>vv>>.v..v.>...>v..v.....v>v...>vv.>....>v....v..>v.>vv..>>v..>>.v..>>.v>..>v..v>..\r\n"
			+ "v>.vv.....v>>vv.>>...v..>..>>.vv.v..vv.>vvvv...v.vvv>v>>.....>vvv..v>.v.>.......>>vv>...vvv>v>vv..>vvv...>.vv>>.v.>>.v..>>.....v....>.>>..v\r\n"
			+ ">..>.>v.v..>...v..>>..>.v.>v..v.>.v>>.>.>v>vv>.v.>>..vv>v>..>vv.......>......v>.>>>v...>..>.v>.>v.v..v.>v....>.>.v>.v>v>>v.v.v>>>.vv...vvv>\r\n"
			+ "......v.v...>...v.>>.>v..>.>v....>.>>>...v>v...v.vv.vv>.v..v>>.>v..vv...>.vvvv...v.>>>.v>>.v..>.v>v..>..>.>.vv..v>.>.v.v>>>v>.>..>.>..>>>..\r\n"
			+ "v....v.vv..>>>>..vv>>v...v>.>vv.>v>>.>..>.>>>...v..v.v.>v....>>v.vvv.v.>>...v.v>.vv..v.v.v.>.>>....vv>v.>>.>.>.v>.v>>>.....>.v>.>v>...>.>..\r\n"
			+ "...>>..vv.>.v.v....>>..>.v..>v>.v...>...>v>v>v.>.v.vv>v....>v....>>>v..>>..>....>.>>>v.>.>...v..>>>.>vv..v>v....>....>..vvv>v>v.v>v..vv....\r\n"
			+ ">vv>..>.vv.>>.v...>.>.>>.>v..v>vv...>v....v.vv>....v>...v.vv>...>>>.vv...>...v....>.v....>...v.vv..>.>v..>...>>>..>.v.v.v>>...>..>..>..v.>>\r\n"
			+ "..vv>v>v>>>vvv>.vv>>vv..>>v>>..>v.>>.......>vv.v.vv....>v>..>.v>vv>>.vv.>>..vv.v>>>v.>...>....>>v>.......v>>>>.v>>>>>v.>>...>v.>vv.>.vv.>.v\r\n"
			+ ">v>.v.>.>..>>>.v..>.v..>v..vvv.>..v>.>>.....v....vv.>..>.v.vv...v.v>.>.vv.>....>v..v>.v..>..>....>.v..v..>v>.>>..vv...>..v....>>v..>.v>>.v>\r\n"
			+ ".>..>.....>vvv>.>..v>v.v..>vvv....>v>>>...>..>.>vvv..v.vv.>...>>v.....v.v..v>>>.v.>>vv..v.v..v......vv>v.>>.v.>v.>>>>..>v..v>.....v>.>v.v..\r\n"
			+ "vv>.....>v>>v.>.>.>vv....v>..v.>.v.>vv>v......v.>>..>>.v>>>>.v>....v..>..v>.v.....>>.>....v.>...>v>>>>>.v.>.......>>v>...v..>>vv..>..>v.>vv\r\n"
			+ ">>vv>..v.....v.v>vv.>..v>..vv>...>>>....>..v>v...>...vv.>>.>v>v>>..v.>...v...>.vvv.>>.>.v>v>.>>>...>..v.v>.vv>v.>.v..>...v..v..>..v..v.v>v>\r\n"
			+ "v>....v.v>...vv...>v..v>v...>.>vvv....>.v...>>>v...>...v>>.v>v>>v>..>>>v.>..v.v.v>.v.vv>>..v.>.>..>>.v>v.>>>>...v>>.v.v>.>.v...>vv.vvvv.>v.\r\n"
			+ "...vv...v.>.>.vvvv..v>.vv>.v.>.v>.>v>v......v...>v>>v...v>.>..>..>.>.>>>vv..>..>>.>v..>>>.>v>...>>>.>.>>v.v..v>...v>..v..v.>..vv.v.....>.>.\r\n"
			+ ".>..>.>...........>.>.>v.>>>>v>.>v>.vv...v..>v.vv>..vv.>v.>>>..v.vv.....>>.v...>vv>.>>.v..v.....>v.....>vv.>vv...vv.vv>v.v....v......v..>vv\r\n"
			+ ">v>..v>>>v>>vvv.....v..>>>v..>>>v..>>v>vv.>...v>.>>>.v.vv...v...v>>.....v.>vv..>..>>.vv.>..>......v.>....vv.>vv.....>>v...v>>v.vv>>..>.vv..\r\n"
			+ ">.>v>>v..>.v..vv>.>....v..>>v....>...v>vv>.....vv.v...>v>.v>>..vvv......>...v...>v.v..>.>>.v>...>>>.vv.v>v...v.>...v..v.>v..>>v>>v..>...v..\r\n"
			+ ">.>.>vvv>>.v...v..>v..>>.....>v.....>>vv.v>..>v...>v...>.v.v>>.v>......>>v...>..>.>......>.>..>...vvv>vv>.v.v.v>..vvv>.>.......v.v.>>>v>v>.\r\n"
			+ "...v.v.>.v.>.>.v.>.>>v>v..>>..>>.vv..>>.>>.v>v>>.>...>>>.v.vv>..vv>...>>vv....v.>.v...>>..vv>.>..v>v...>..v..>>....>>>v.vv>>v..>.v....>.>.v\r\n"
			+ ">>v.>>.v>>....>..vvv>v>>v..>vv....>.....vv.vvv>........>v.v.vv>>.v..>v.vv>vv.>>...>..>.v>.>.>>.v.v>v>...vv..v.v>..v>.v>....>vv>>....vv>...v\r\n"
			+ "v.v...v.v.vvv>vv>.vvv.vv.>v>v.v....>.....>>..>.vv.>.>..v....v..v.v...vv.vvvvv......>v.vv..v>v>vv.v...v.>...v>>>v.v>v>.>..vvv.>.v.>v.>.>>v..\r\n"
			+ "...>>>>.v..v.>..v.>v.v>..vv.>.>vv.>>.v>.>....v..v...>.>..vv.>..v.>.v>>...>.>...v.>>.>.vv>v>.>.>..>vv.>vv>...>.v.>.v..>>..>..v>vv.v.v.v.....\r\n"
			+ ".>..vv...vvv>.....vvv>.>v.>vv.v..>.>vv.v.v..>>>..>v.v..vv..>..>v.v>>v...>>.>>.v>>v>..>...>>vv>>..v>......v>.>.v.v...v..v.v.v.v...vv..v>..v.\r\n"
			+ "...v......vv>v.vv>>>.v.>.v.v.....v..>>v.>v.vv>v>>....>......v...>>..>....>>vvv.>v..>....>..v>>>>.>>v>v..>>>.>>v>>v....v.>v.vv>.>....v.>...>\r\n"
			+ "..>>>>v>...v.v..vv>...v>>>>.>..v>.........v.>.>...v.>>...>..v>.>...v..vv.v>>.v..>.....>..>vv.v.v.>.>v>..v>>v.v>v>v>.....>vvv.>>>>>>vvv>.v.>\r\n"
			+ ".v..v....v.vv.v.v..vv>..>>v....v.vv...>.>...>>.v.vv....v>.v.v.>>v>....vv>>..v...v....>.>>.>v......>>.v>v..>..v>vv.>..>>>....v..>...vvv.>>v>\r\n"
			+ "..v>.v....v.>.>v>.>.v...vv>>..>.v...>>v.v...>>..vv>.....v.vv.>>>v>.>..v.>>v......vv>>v.>v..v>>..>..>>..>...>vv....v.vv..v>v.vv...>...>.>v>>\r\n"
			+ ">.vvv.......>.>>...v>v..>.>>v..v.vvv..v.v..>..>>vv>.vv>..v..>...v.v....v.v........>v>>>.vv..v.....>.>v.>v.>v.v........>>v>.v>..>.>..>v>v...\r\n"
			+ "....>vv...v.>>...vv>.....v....v>v.>..vv>.v.vv>>..v>v.v.v.v>vv..v..>v>.v....>v>...>v.....>v...v..v.>.>v>....>....v.v..>>v>>v..>>>>v>>>.>>...\r\n"
			+ ".....v>v>.>.v...v.>>..v>>>>vvv.vv...vv>>.>..v..>v>..>..>..>vv>v....>>v..vv>..v>..>.v..>>vv>>v.v>...>>>.vv.>>.>..vvv>>v>..>v..v.>v.>..v.>...\r\n"
			+ "v..>.>v>.v....v>>>.>...v...v.>>>>..vv...>.>>.>>v.>.>v..v>..>v>....>v>.v>>v.v..v>>.v.>...>..>v...>>>....>vv..v>>v.>>...>v.v.>v...>....>.>v..\r\n"
			+ "...v>>.v.v.....v......>v.....vv>>.>.v.v>.>>>.vv>>.vv..>...>....v>..v>>>>.v..v>>>v>.v>>..>.>...>v...vvvv.>.v...>.>v.>v.>..vv.....>>>>..v..v.\r\n"
			+ "..>>.>>..v>..>vv>>.>.v.vv....>v.v.>>>v>v.v>vv>>>vv...vv.>>...>.v.....v.>.>>.>.vv.v.>>v...vv..vvvv.>....v..>>.>>v.>.v>v.>...v.>.vv.v>>...v>v\r\n"
			+ "..vvvv.v..>v.....>..v.>.>>v.v...>>..>.>.vv...v>v..>.>....>.v.v..v>.....vv...v....>....>...>v..vv>vv...v...>.>..>....>.v.>>v.v.>v.v>.vv>>vv>\r\n"
			+ ".v..>vv>>>.v.>v..>v.>>.v.v...>.v..v.v.....>vv.v.>>vv...v>.>.>....vv.>..vvv.>...v>v>>.>...>>>>..v..v..vv...>.>.v..vv>.>v..>..v.....v.>...v.v\r\n"
			+ ">.v...v.vv>>......>>>>v....>v.>vv>.>>.>v>v..v...>>v..>....v.v.....>...>v....vv.v>....>.>..v.vv..v>v>.>v....vv..v..>v........>.v>.v.........\r\n"
			+ "v.>..vv>...>>.v.vv..>.>v>....v..>.vv..>..>>.>..>vv...v..vvvv>....v..>v.v.>.>.v>....v..>>v>>...v.>>v.v..v.v...>v.v>..v..v>.......>.v...v.vv.\r\n"
			+ "v.>v>v>v>>>...v>.>>..v.>vv>.v..>.vv.>>v>v..>>vvv>.v.....>>.>v.v..>....v.>v.>v.....v>.v>>...v>..>..v.v....v..v...>.v..v....>>.>vvv>..>>.vv..\r\n"
			+ ">v>>.>..v....>v.v...>>>v.>.>..v.>.vvv>v..vv.>vvv.v.>>>v>vvv.>>.>.v.......>>.>.>v>..vv>......v.>>>..v>vv..>..>>..v>vv>>vv.vv.vv.v...v...v.>>\r\n"
			+ ".>.v..v.vv>.>.v..........vv...vvv.v.v.>........>....v>v.vvv.v..v>.....vvv>..v...>..>v>v>>v.>v>v..>.>v>v..v.>.v.>v.>..vvv>.>>>>.vv>>..>v>>.v\r\n"
			+ ".....>vvvv..vv.vvv...vvv...vv>vv.v>>>.v>..v>.v...vv.vv>vv>.>vvvv...>vv...vv>.vv>>>..>.>>>.>vv..>...v.>...vv.>>>...v...vv.>vv.>vvv....>v>>.v\r\n"
			+ "v>..>..v>>>v.>>v.vv>v>..vv>.>....>>>......>..>>..v.>..vv.v...v.>.vv.>>.>>.>..v.......>v.v.>.v.v>.v.v>>.v..vv>.vv.>>>v.v>...>...vv..v.>v>.v.\r\n"
			+ "v.vvvvv..v.>.>.v.>..>>>..vv.>>>vv.......vv..v.....v.vv...v.v>.....>>.vv..>.>>.v..>v.v.v>.>>..v.>........>.v>..>v>>>>>>v.>..>..>v>.vv.vvv...\r\n"
			+ ">..v>v.>>v>v.>..>>vvv>..>v>>v>..>.v.>>.vvv>.>vv.>vv.v........v>v.v..>...>v....v...>.v.>...>vv...v..vv........>...>v.v>..v..v>>..v.>>.v.vv>.\r\n"
			+ "..v.v>.v.v.v>v....>.>>>.>.v>>..vvv>v>.v.>vv.>..>.v>v>v.>vv.vv.v.v.vv..v>.vv.vv.vv.>>...vvv.>..>.>v>......v.>.v>vv.>.v..vv>.v>.v>>.....v.>.>\r\n"
			+ "v.v....>>..v...v>v>vvv....>>....>v>vv.vv>v.>>.vv..>.v.>....>>v..>>>vv..>.......>>....vv.>v>v.v.....v.>.>.>v>>>>..>>..v.>...>>>...vv>v>..>v.\r\n"
			+ ".>.>..vv>>>...vvv.v>..>>v>v.v.v>vv..vv>v>>.vv....v>>v....v>>.vv>v...v..>v>v>.>.>.>>>....>.>.>..vv>v.v.>>...>v>..>.>vv.>..vv..>v..>v.v.....v\r\n"
			+ ">v........>>v....v..>v.v..>.vv>..>v.v.v>>>>v>>vvv>.v>v.>.>.v.v.vvv..vv>..>..>v>.v>..>v.v...>.>.v>..>vvv.....v......>>>.>.v>.>vvv..v>.>v>vv>\r\n"
			+ "..v.>>>>.>v.>>>.....>v>.>..vv..>>v..v.>.....>vv...>>..v..v.v..v>.>..>vv.>...v.v....v.>v.>.>...vvv.vv>.....v.....>.v>.v>.>..>....vv.>v.v....\r\n"
			+ ".v>>.......v.v.v..>>..>v..>vv....>vvvvv.>.>..>...vv.>>v..vv....>v>.>>.>.vvv.>.v....vv>v.vv.>vv......>.>>>>.>.>vvv>vv.v.v..>.v..>..>.......>\r\n"
			+ ".vv..>>..>....vv.vv..>.>.....>>.>.>..vv...>v>.vv>..>v.v>.>...>..v.vv..>.>v>>...>v..v...v...v>.>>>>..>.>>v....>.v..v.v.....>>v.....v.vv....v\r\n"
			+ "..vv>vv...v.>>>v....v>.vv..v>v.>.v>.>v>>.>.v..>.vv...>.v.>.>.v..v.>..v.>>>..>..vv.>..>..>v>..>.>v...v>...>>>....>v...v.vv.>>.vv.>vv>v>>>.>>\r\n"
			+ ">..vv>>vvv..>vvv..v>v.>...>..v>>vv.>v..>.v>.>.>.>v.>vvv>>.>.......v...>>v..>...vvvv>>v>.v..>>vvvvv.v..v>.>..>v....>..v>...>vv>>v.>vvv>...>.\r\n"
			+ "v.v..>..>v...v..>>>v..v>.vvv....>v.v...v.v.>...vv.>v>.v>...>vv>vv.v>vv.v.v..vvv>..>>v.v>v>..>.>v..v..>vv>v.......>.>.v.>..vv.v.v>>.>.>...vv\r\n"
			+ "...>>>v..>v..>>v.>.vvv.v.>>..>..vv>v.......>v.>.>....>v.vv.>..v>...v..>..v>...v>v.....v..v.>>>>>.>.>vv..>vv>vvv.>>>>..>.>v.v.v.>>>.v...>v>.\r\n"
			+ "..vvv..>vv>.vv>v>.>>.>v.>vvv......>..>v...v.v.>.v..>vv>.vv.vvv>.......>.>...v>v.>v..v.>v.>v>vv...v>.>v.>v.v.....v.>>>v.>.v.v>.v..v>.vv....>\r\n"
			+ ">v..v.v..v>>.>..>>...v.>.>......>..>.v.vvvv>vv>v..v>vvvv.>v..v>.....>..>>>...>.v..vv>v>.>..>v..v..v>>.....>.>>>...v>......>.vv..vvv>>......\r\n"
			+ ".>>.v........vv.>.>.v>....v......v.>.>>..>v.v..>....>>.>.....>vv..>.>>.>v.vv..vv....>>..v.vv.>..>.>...>vv..v....>>>...>.v..v..v.>>...v>v...\r\n"
			+ ">v..v.>>>>>....v...>..vv>.>.>>..>vv>vv.>>..>.>..v.vv>v.>>.>..v..v..>>vv.v>...v>v>v..>.>v.vvv...>>.v..>.>>.>>.....>.v>.>v.vv..vvv>......>v>.\r\n"
			+ "....>.>>>>v>>.v>>...v..>>>.vv..v>>..>>.v.v>.v.v.>...v.>>...>v..v....vv.v.....v....>......>.....vv.>.vvvvv>....>vv..>>>v>vv>>v.....>>...v...\r\n"
			+ ".>.....>v>...>v.>>..>v.>v>....vv..v>>..>.vv.v...v>..>..vv.v>..v..>v...>>v..v..v>v.v>.>v>v....v>.v>.vv..v....v.>>..>v..vv.v..>v>>.>>>..vvv.>\r\n"
			+ ">v>>>v...>.>>vvv....v>vv...>...>v..>...>.>....v.v..>>..v>..vv>>>.........>v.v...>v......>>.>vv.......>.>.>..>..>>v>v.v..vv...>>v..>v>.>vv>>\r\n"
			+ "..>v>v>v.vvv.v>.v>>>..>>v>....>.v.>...v>...>v.vv.vv>v..>.>v>vv.v.v.>...vv...v>>>>>vvv.>.v>.vv...>v....v.>...v..>..v..v.v...v>v.v.>v.>v..v..\r\n"
			+ ".v.v.v.v>>.>.>.>>..v.v..v..v.v.>.>.>v>>.v....>>>....>>v>..>v....v......vv.>>..>...>...>>>.>.>>..v.>..>....>..v..vv.vvv>vvv...>>v>>.vv>v>v..\r\n"
			+ "..>.v.>v.>>>>>>....vvv.v>.v.vv.>..v>v.........vv>.>v.v>v.vvv....>v>vv.>>..............v.v>>>..v>..>.>..vv....>.v>...>...v.....>>.vv>.v>..vv\r\n"
			+ ".v...v.>.>.>>vv..>v>.>..>..vv>.>v...v>v.v..>v>.>>...v>v>...v...>..v>>........>v.>..v>..vv.v>v.>.vv>>.>vvv>v.>>>>>.v.v........>>>>..>.vv>v.v\r\n"
			+ ">..v>v...>........v..>.>......v..v.>v.vv>>>>.>.>v.v>..>v.>>>vv....>....>v..>.>.>.v.vvv..>vv>..>v.......v>>>..vv..v..>v>>>...>v.>v.v>...vv>>\r\n"
			+ ">.>....vv.vv.vv.vvv...v>>..>..>.>v.v>>.v.>v.v..>..>....>v..>>>>v.>..v..>>>v.v..v>>....v....v..>>>.>.v.>..>v..>...v...>v..v.>.v......v>.v.v.\r\n"
			+ ".v.v..>....v..>v>vv.v>v>.v>.vvv......>.v..v.v.....>>.v...>..>..vv.>>.>.v..>....>.v>vv>..v>...>.>>vv>.vvvv.v.v>...>....>...>v.v...vvvv>....>\r\n"
			+ "......v>v.vv..>v...vv..v>v....>.>v.>....>....>.>.>.>>...>>.v.>.>.>>v.v>.vv.v>>..>.>.v..>..>.v.....v.v.vv>.vvv....v.>..>.v.......v>.>..vv.v.\r\n"
			+ ">>>...>.>vv>>>>>.>..........>vv>>...v....v.....v>vv.vv>..v>>..v...v>v.....vv>...vv.v..>.v..vv.v>.v.v.>.vvv.vv.>.>...>v>v..>.v>...>v...v.>.v\r\n"
			+ "..>vv.....v.>.>>....vv........vv..>v..v.>.>.....>v>v>>.v.v.>>..v..vv.>v.>vv>v.>.>.vvv.>vv..v.vv.>.>>v....v..v.....v.v>v...v.>.vvv..v..>.>>.\r\n"
			+ "v>vv>>v>.....v..v>v>v...v..>v..v>>.>v.vv>v>>.>..v.v...v>...>v.v.vv.>.v>v>.v...v.>vv>..>..>v.....v.>>...v>vvv>vv....>.v..>v....>..v>>v.>.>.>\r\n"
			+ ".>.>.>.>>.>v.>.v.v..v.v..>v>>..v...>....v>v...v.v..v>.v...v>>v>>.vv...>>.>>>.>...v>vv>....>>..v.>v.v..>.....>>..>>>....v.>>..v..v.v.>..vv..";
	
	@Override
	public String part1() {
		//true for east, false for south
		HashMap<Coord,Boolean> cucumbers = new HashMap<Coord,Boolean>();
		String[] lines = input.split("\r\n");
		int maxX = lines.length;
		int maxY = lines[0].length();
		
		for(int x = 0; x < maxX; x++) {
			for(int y = 0; y < maxY; y++) {
				switch(lines[x].charAt(y)) {
				case '>':
					cucumbers.put(new Coord(x,y), true);
					break;
				case 'v':
					cucumbers.put(new Coord(x,y), false);
					break;
				}
			}
		}
		
		HashMap<Coord,Boolean> prev = new HashMap<Coord,Boolean>();
		int step = 0;
		do {
			step++;
			prev = cucumbers;
			HashMap<Coord,Boolean> newCucumbers = new HashMap<Coord,Boolean>();
			//easts first
			for(Coord c : cucumbers.keySet()) {
				if(cucumbers.get(c)) {
					if(c.y < maxY - 1) {
						if(!cucumbers.containsKey(new Coord(c.x,c.y + 1))) {
							newCucumbers.put(new Coord(c.x,c.y + 1), true);
						} else {
							newCucumbers.put(c, true);
						}
					} else {
						if(!cucumbers.containsKey(new Coord(c.x,0))) {
							newCucumbers.put(new Coord(c.x,0), true);
						} else {
							newCucumbers.put(c, true);
						}
					}
				} else {
					newCucumbers.put(c, false);
				}
			}
			
			HashMap<Coord,Boolean> newCucumbers2 = new HashMap<Coord,Boolean>();
			for(Coord c : newCucumbers.keySet()) {
				if(!newCucumbers.get(c)) {
					if(c.x < maxX - 1) {
						if(!newCucumbers.containsKey(new Coord(c.x + 1, c.y))) {
							newCucumbers2.put(new Coord(c.x + 1, c.y), false);
						} else {
							newCucumbers2.put(c, false);
						}
					} else {
						if(!newCucumbers.containsKey(new Coord(0,c.y))) {
							newCucumbers2.put(new Coord(0,c.y), false);
						} else {
							newCucumbers2.put(c, false);
						}
					}
				} else {
					newCucumbers2.put(c, true);
				}
			}
			
			cucumbers = newCucumbers2;
		} while(!cucumbers.equals(prev));
		return Integer.toString(step);
	}
	
	@Override
	public String part2() {
		return "Merry Christmas!";
	}

	public static void main(String[] args) {
		DayRunner.run(new Day25());
	}

}
